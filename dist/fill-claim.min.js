"use strict";var overlayHtml='<div\nid="full-screen-overlay"\nstyle="\n   display: flex;\n   flex-direction: column;\n   justify-content: flex-start;\n   align-items: center;\n   position: fixed;\n   left: 0;\n   top: 0;\n   background-color: rgba(0, 0, 0, 0.5);\n   width: 100vw;\n   height: 100vh;\n   z-index: 2000;\n"\n>\n<div\n   style="\n      width: 100%;\n      height: auto;\n      max-width: 225px;\n      left: 50%;\n      background-color: #fff;\n      padding: 20px 10px;\n      border-radius: 10px;\n      box-shadow: 0 0 5px 1px rgb(0 0 0 / 40%);\n      margin-top: 10vh;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n   "\n>\n   <p style="font-size: 15px">Your claim has been filled!</p>\n   <p style="margin-bottom:20px;">It will submit in 3 seconds...</p>\n   <a id="cancel-submission" class="button primary">Cancel Submission</a>\n</div>\n</div>\n';!function($){var CLAIM_INFO_STORAGE_KEY="nwflClaimInfo",DEFAULT_TAX_ID="911455635",DEFAULT_PHONE="(206) 363-9601",SUPERVISOR_ID_TYPE="0B";function addButtons(){!function(){var btn=null!=getClaimInfoFromStorage()?"Magic Fill & Submit!":"Setup Magic...";$("#magical-fill").remove();btn=$('<a class="button primary" id="magical-fill" style="background-color: #8a2be2;" href="javascript:void(0)">'+btn+"</a>").on("click",onMagicButton);$("#control-bar div.actions").append(btn)}(),null!=getClaimInfoFromStorage()&&function(){$("#edit-magic").remove();var btn=$('<a style="align-self: center;padding: 8px;" id="edit-magic" href="javascript:void(0)">Edit</a>').on("click",onEditButton);$("#control-bar div.actions").append(btn)}()}function onEditButton(){getClaimInfoFromUser()}function getClaimInfoFromStorage(){var storedClaimInfo=localStorage.getItem(CLAIM_INFO_STORAGE_KEY);if(null==storedClaimInfo)return null;try{var claimInfo=JSON.parse(storedClaimInfo);return claimInfo.firstName&&claimInfo.lastName&&claimInfo.npi&&claimInfo.license?claimInfo:null}catch(e){return null}}function showOverlay(){$("body").append(overlayHtml);var timeout=null;$("#full-screen-overlay #cancel-submission").on("click",function(){clearTimeout(timeout),$("#full-screen-overlay").remove()}),timeout=setTimeout(function(){$("#full-screen-overlay").remove(),$('#control-bar div.actions a.button[data-submit-claim="true"]').click()},3e3)}function fillFields(fields){var filledStyle={"background-color":"#ffd5f6",color:"#111"};Object.entries(fields).map(function(selector){var key=selector[0],value=selector[1],selector=value.selector,value=value.value;if(0===$(selector).length)throw new Error("Error: Could not find field: "+key);$(selector).val(value).css(filledStyle)}),function(fields){$("html, body").animate({scrollTop:$(fields.supervisorLastName.selector).offset().top/1.5},500)}(fields),showOverlay()}function onMagicButton(claimInfo){void 0===claimInfo&&(claimInfo=null);claimInfo=getClaimInfoFromStorage();claimInfo?fillFields(function(claimInfo){return{supervisorLastName:{selector:'input[name="box17_provider[last_name]"]',value:claimInfo.lastName},supervisorFirstName:{selector:'input[name="box17_provider[first_name]"]',value:claimInfo.firstName},supervisorIdType:{selector:'select[name="box17_provider[secondary_id_type]"]',value:SUPERVISOR_ID_TYPE},supervisorSecondaryId:{selector:'input[name="box17_provider[secondary_id]"]',value:claimInfo.license},supervisorNpi:{selector:'input[name="box17_provider[npi]"]',value:claimInfo.npi},taxId:{selector:'input[name="billing_provider[tax_id]"]',value:claimInfo.taxId},billingPhone:{selector:'input[name="billing_provider[phone_number]"]',value:claimInfo.phone}}}(claimInfo)):getClaimInfoFromUser()}$(function(){/https:\/\/secure\.simplepractice\.com\/clients\/\w*\/insurance_claims\/\d*\/edit/i.test(window.location.href)&&(addButtons(),/\?autoMagicFill=y/i.test(window.location.href)&&null!=getClaimInfoFromStorage()&&onMagicButton())});var FriendlyClaimProps=Object.freeze({firstName:"Supervisor First Name (Box 17)",lastName:"Supervisor Last Name (Box 17)",license:"Supervisor License # (Box 17a)",npi:"Supervisor NPI # (Box 17b)",taxId:"Federal Tax ID # (Box 25)",phone:"Billing Provider Info Phone (Box 33)"});function getClaimInfoFromUser(){var fromUser,fromUser=(fromUser=getClaimInfoFromStorage(),{firstName:prompt(FriendlyClaimProps.firstName,(null==fromUser?void 0:fromUser.firstName)||""),lastName:prompt(FriendlyClaimProps.lastName,(null==fromUser?void 0:fromUser.lastName)||""),license:prompt(FriendlyClaimProps.license,(null==fromUser?void 0:fromUser.license)||""),npi:prompt(FriendlyClaimProps.npi,(null==fromUser?void 0:fromUser.npi)||""),taxId:prompt(FriendlyClaimProps.taxId,DEFAULT_TAX_ID),phone:prompt(FriendlyClaimProps.phone,DEFAULT_PHONE)});confirm("Is the information entered correct?: \n\n"+Object.entries(fromUser).map(function(value){var key=value[0],value=value[1];return FriendlyClaimProps[key]+": "+value}).join("\n"))&&(localStorage.setItem(CLAIM_INFO_STORAGE_KEY,JSON.stringify(fromUser)),addButtons(),alert("If you clear your browsing data you may need to re-enter your supervisor info.\n\nYou are now set up for magic!"))}}(jQuery);