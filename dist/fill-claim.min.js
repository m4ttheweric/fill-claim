"use strict";!function($){var CLAIM_INFO_STORAGE_KEY="nwflClaimInfo",DEFAULT_TAX_ID="911455635",DEFAULT_PHONE="2063639601",SUPERVISOR_ID_TYPE="0B";function addButtons(){var btn;btn=null!=getClaimInfoFromStorage()?"Magic Fill!":"Setup Magic...",$("#magical-fill").remove(),btn=$('<a class="button primary" id="magical-fill" href="javascript:void(0)">'+btn+"</a>").on("click",onMagicButton),$("#control-bar div.actions").append(btn),null!=getClaimInfoFromStorage()&&function(){$("#edit-magic").remove();var btn=$('<a style="align-self: center;padding: 8px;" id="edit-magic" href="javascript:void(0)">Edit</a>').on("click",onEditButton);$("#control-bar div.actions").append(btn)}()}function onEditButton(){getClaimInfoFromUser()}function getClaimInfoFromStorage(){var storedClaimInfo=localStorage.getItem(CLAIM_INFO_STORAGE_KEY);if(null==storedClaimInfo)return null;try{var claimInfo=JSON.parse(storedClaimInfo);return claimInfo.firstName&&claimInfo.lastName&&claimInfo.npi&&claimInfo.license?claimInfo:null}catch(e){return null}}function onMagicButton(e){var filledStyle,fields=getClaimInfoFromStorage();fields?(fields=function(claimInfo){return{supervisorLastName:{selector:'input[name="box17_provider[last_name]"]',value:claimInfo.lastName},supervisorFirstName:{selector:'input[name="box17_provider[first_name]"]',value:claimInfo.firstName},supervisorIdType:{selector:'select[name="box17_provider[secondary_id_type]"]',value:SUPERVISOR_ID_TYPE},supervisorSecondaryId:{selector:'input[name="box17_provider[secondary_id]"]',value:claimInfo.license},supervisorNpi:{selector:'input[name="box17_provider[npi]"]',value:claimInfo.npi},taxId:{selector:'input[name="billing_provider[tax_id]"]',value:claimInfo.taxId},billingPhone:{selector:'input[name="billing_provider[phone_number]"]',value:claimInfo.phone}}}(fields),filledStyle={"background-color":"#ffd5f6",color:"#111"},Object.entries(fields).map(function(selector){var key=selector[0],value=selector[1],selector=value.selector,value=value.value;0===$(selector).length?alert("Error: Could not find field: "+key):$(selector).val(value).css(filledStyle)}),alert("Claim has been magicked!\n\nFilled fields are highlighted pink."),$("html, body").animate({scrollTop:$(fields.supervisorLastName.selector).offset().top/1.5},500)):getClaimInfoFromUser()}$(function(){-1<window.location.href.indexOf("insurance_claims")&&-1<window.location.href.indexOf("/edit")&&addButtons()});var FriendlyClaimProps=Object.freeze({firstName:"Supervisor First Name (Box 17)",lastName:"Supervisor Last Name (Box 17)",license:"Supervisor License # (Box 17a)",npi:"Supervisor NPI # (Box 17b)",taxId:"Federal Tax ID # (Box 25)",phone:"Billing Provider Info Phone (Box 33)"});function getClaimInfoFromUser(){var fromUser,fromUser=(fromUser=getClaimInfoFromStorage(),{firstName:prompt(FriendlyClaimProps.firstName,(null==fromUser?void 0:fromUser.firstName)||""),lastName:prompt(FriendlyClaimProps.lastName,(null==fromUser?void 0:fromUser.lastName)||""),license:prompt(FriendlyClaimProps.license,(null==fromUser?void 0:fromUser.license)||""),npi:prompt(FriendlyClaimProps.npi,(null==fromUser?void 0:fromUser.npi)||""),taxId:prompt(FriendlyClaimProps.taxId,DEFAULT_TAX_ID),phone:prompt(FriendlyClaimProps.phone,DEFAULT_PHONE)});confirm("Is the information entered correct?: \n\n"+Object.entries(fromUser).map(function(value){var key=value[0],value=value[1];return FriendlyClaimProps[key]+": "+value}).join("\n"))&&(localStorage.setItem(CLAIM_INFO_STORAGE_KEY,JSON.stringify(fromUser)),addButtons(),alert("If you clear your browsing data you may need to re-enter your supervisor info.\n\nYou are now set up for magic!"))}}(jQuery);